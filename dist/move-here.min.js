!function t(e,n,i){function o(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return o(n?n:t)},d,d.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){(function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=t("./rectangle"),o=n(i),r=t("./motion-direction"),a=n(r),u=t("./motion-engine"),s=n(u),c=e.MoveHere=e.MoveHere||{};c.MotionDirection=a["default"],c.Rectangle=o["default"],c.MotionEngine=s["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./motion-direction":6,"./motion-engine":7,"./rectangle":8}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=0,a=function(){function t(){i(this,t)}return o(t,null,[{key:"getId",value:function(){return r++}}]),t}();n["default"]=a,e.exports=n["default"]},{}],3:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=Math.PI/180,a=180/Math.PI,u=function(){function t(){i(this,t)}return o(t,null,[{key:"radians",value:function(t){return r*t}},{key:"degrees",value:function(t){return a*t}},{key:"getMinAngleDiff",value:function(t,e){if(0>=t&&e>=0||t>=0&&0>=e){var n=t>0?t:-t,i=e>0?e:-e,o=180-n,r=180-i;return Math.min(o+r,n+i)}var a=t-e;return a>0?a:-a}},{key:"convertRotationToAngle",value:function(t,e,n){var i=void 0;return i=e>=0&&0>n?90+t:e>=0&&n>=0?t-90:0>e&&n>=0?t+270:t+90,i>360&&(i-=360),i}},{key:"convertAngleToRotation",value:function(t,e,n){var i=void 0;return i=e>=0&&0>n?90-t:e>=0&&n>=0?90+t:0>e&&n>=0?-270+t:90-t}},{key:"distanceBetweenTwoPoints",value:function(t,e,n,i){return Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))}},{key:"getRandomPointInsideRect",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i={min:0,max:0},o={min:0,max:0},r={x:0,y:0};return n?(t.x<e.x+e.halfWidth?(i.min=e.eighthWidth,i.max=e.halfWidth-i.min):(i.min=-e.eighthWidth,i.max=-e.halfWidth-i.min),t.y<e.y+e.halfHeight?(o.min=e.eighthHeight,o.max=e.halfHeight-o.min):(o.min=-e.eighthHeight,o.max=-e.halfHeight-o.min)):(i.min=e.x,i.max=e.width,o.min=e.y,o.max=e.height),r.x=t.x+Math.round(i.min+Math.random()*i.max),r.y=t.y+Math.round(o.min+Math.random()*o.max),r.x>e.x+e.width?r.x=e.x+e.width:r.x<e.x&&(r.x=e.x),r.y>e.y+e.height?r.y=e.y+e.height:r.y<e.y&&(r.y=e.y),r}},{key:"getRandomPointOutsideRect",value:function(t,e){var n={x:0,y:0},i=Math.floor(4*Math.random());switch(i){case 0:n.x=e.x-t.width,n.y=e.y+Math.round(Math.random()*e.height);break;case 1:n.x=e.x+Math.round(Math.random()*e.width),n.y=e.y-t.height;break;case 2:n.x=e.x+e.width+t.width,n.y=e.y+Math.round(Math.random()*e.height);break;case 3:n.x=e.x+Math.round(Math.random()*e.width),n.y=e.y+e.height+t.height}return n}}]),t}();n["default"]=u,e.exports=n["default"]},{}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../mathy"),u=i(a),s=t("../status-constants"),c=i(s),d=.5,h=1.5,f=function(){function t(e){o(this,t),this._boundingRectangle=e,this._motionAssets={}}return r(t,[{key:"addAsset",value:function(t){var e=void 0;e="inside"===t.spawnLocation?u["default"].getRandomPointInsideRect(t,this._boundingRectangle,!1):u["default"].getRandomPointOutsideRect(t,this._boundingRectangle),t.x=e.x,t.y=e.y;var n=u["default"].getRandomPointInsideRect(t,this._boundingRectangle);t.destinationX=n.x,t.destinationY=n.y,t.status=c["default"].ALIVE,t.acquireRotationDirection=!0,t.simulateDepth&&(t.scaleX=t.scaleY=d+(t.y-this._boundingRectangle.y)/this._boundingRectangle.height),this._motionAssets[t.id]=t}},{key:"update",value:function(t){var e=this,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,f=void 0,l=void 0,g=void 0,m=void 0,_=void 0,y=void 0,v=void 0,p=void 0,x=void 0,b=void 0,k=void 0;Object.keys(this._motionAssets).forEach(function(w){p=e._motionAssets[w],n=-1!==p.duration?t-p.initTime>=p.duration:!1,p.simulateDepth&&(k=d+(p.y-e._boundingRectangle.y)/e._boundingRectangle.height*(h-d),d>k&&(k=d),k>h&&(k=h),p.scaleX=p.scaleY=k),n&&p.status===c["default"].ALIVE&&(p.status=c["default"].DYING,x=u["default"].getRandomPointOutsideRect(p,e._boundingRectangle),p.destinationX=x.x,p.destinationY=x.y,p.acquireRotationDirection=!0,p.rotationAmount=0),o=p.rotation,r=u["default"].distanceBetweenTwoPoints(p.x,p.y,p.destinationX,p.destinationY),f=p.destinationX-p.x,l=p.destinationY-p.y,_=Math.round(u["default"].degrees(Math.acos(f/r))),b=u["default"].convertAngleToRotation(_,f,l),y=u["default"].getMinAngleDiff(b,o),y<=p.rotationPerFrame?(o=b,i=u["default"].convertRotationToAngle(o,f,l)):(i=u["default"].convertRotationToAngle(o,f,l),p.acquireRotationDirection&&(p.acquireRotationDirection=!1,o>_?p.rotationDirection=-1:p.rotationDirection=1),v=p.rotationAmount/360<=1?1:p.rotationAmount/360,i+=p.rotationDirection*p.rotationPerFrame*v,o+=p.rotationDirection*p.rotationPerFrame*v),p.rotationAmount+=u["default"].getMinAngleDiff(p.rotation,o),p.rotation=o,0>l?(a=p.x-Math.cos(u["default"].radians(i))*p.unitsPerFrame,s=p.y-Math.sin(u["default"].radians(i))*p.unitsPerFrame):(a=p.x+Math.cos(u["default"].radians(i))*p.unitsPerFrame,s=p.y+Math.sin(u["default"].radians(i))*p.unitsPerFrame),g=f>0?f:-f,m=l>0?l:-l,g<p.unitsPerFrame&&m<p.unitsPerFrame?p.status===c["default"].ALIVE?(p.x=p.destinationX,p.y=p.destinationY,x=u["default"].getRandomPointInsideRect(p,e._boundingRectangle),p.destinationX=x.x,p.destinationY=x.y,p.acquireRotationDirection=!0,p.rotationAmount=0):(p.status=c["default"].DEAD,delete e._motionAssets[w]):(p.x=a,p.y=s)})}}]),t}();n["default"]=f,e.exports=n["default"]},{"../mathy":3,"../status-constants":9}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./motion-direction"),u=(i(a),t("./id-generator")),s=i(u),c=t("./status-constants"),d=i(c),h=60,f=1,l=function(){function t(e,n,i,r,a,u,c,l,g){o(this,t),this._id=s["default"].getId(),this._target=e,this._initTimeInMilliseconds=n,this._duration=i,this._unitsPerSecond=r,this._rotationPerSecond=a,this._rotationPerFrame=a/h,this._motionDirection=u,this._rotateToDirection=c,this._unitsPerFrame=r/h,this._simulateDepth=l,this._spawnLocation=g,this._acquireRotationDirection=!1,this._destinationX=0,this._destinationY=0,this._status=d["default"].BORN,this._rotationAmount=0,this._rotationDirection=1,this._rotationProxy=0,this._rotationPerFrame<f&&(this._rotationPerFrame=f)}return r(t,[{key:"id",get:function(){return this._id}},{key:"target",get:function(){return this._target}},{key:"duration",get:function(){return this._duration}},{key:"unitsPerSecond",get:function(){return this._unitsPerSecond}},{key:"unitsPerFrame",get:function(){return this._unitsPerFrame}},{key:"status",set:function(t){this._status=t},get:function(){return this._status}},{key:"initTime",set:function(t){this._initTimeInMilliseconds=t},get:function(){return this._initTimeInMilliseconds}},{key:"x",set:function(t){this._target.x=t},get:function(){return this._target.x}},{key:"y",set:function(t){this._target.y=t},get:function(){return this._target.y}},{key:"width",get:function(){return this._target.width||0}},{key:"height",get:function(){return this._target.height||0}},{key:"rotation",set:function(t){this._rotateToDirection?this._target.rotation=t:this._rotationProxy=t},get:function(){return this._rotateToDirection?this._target.rotation:this._rotationProxy}},{key:"destinationX",set:function(t){this._destinationX=t},get:function(){return this._destinationX}},{key:"destinationY",set:function(t){this._destinationY=t},get:function(){return this._destinationY}},{key:"rotationPerSecond",get:function(){return this._rotationPerSecond}},{key:"rotationPerFrame",get:function(){return this._rotationPerFrame}},{key:"motionDirection",get:function(){return this._motionDirection}},{key:"rotateToDirection",set:function(t){this._rotateToDirection=t},get:function(){return this._rotateToDirection}},{key:"acquireRotationDirection",set:function(t){this._acquireRotationDirection=t},get:function(){return this._acquireRotationDirection}},{key:"rotationAmount",set:function(t){this._rotationAmount=t},get:function(){return this._rotationAmount}},{key:"rotationDirection",set:function(t){this._rotationDirection=t},get:function(){return this._rotationDirection}},{key:"simulateDepth",set:function(t){this._simulateDepth=t},get:function(){return this._simulateDepth}},{key:"spawnLocation",set:function(t){this._spawnLocation=t},get:function(){return this._spawnLocation}}]),t}();n["default"]=l,e.exports=n["default"]},{"./id-generator":2,"./motion-direction":6,"./status-constants":9}],6:[function(t,e,n){"use strict";var i=Object.defineProperties({},{CURVE_RANDOM:{enumerable:!0,value:"curveRandom"}});e.exports=i},{}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("./rectangle"),u=i(a),s=t("./motion-direction"),c=i(s),d=t("./motion-adapters/random-motion-adapter"),h=i(d),f=t("./timer"),l=i(f),g=t("./motion-asset"),m=i(g),_=2e3,y=30,v=1,p=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?new u["default"]:arguments[0];o(this,t),this._boundingRectangle=e,this._timer=new l["default"],this._adaptersMap={};var n=new h["default"](this._boundingRectangle);this._timer.addTimeUpdateListener(n.update.bind(n)),this._adaptersMap[c["default"].CURVE_RANDOM]=n}return r(t,[{key:"start",value:function(){this._timer.play()}},{key:"stop",value:function(){this._timer.pause()}},{key:"addAsset",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.target,n=void 0===e?null:e,i=t.motionDirection,o=void 0===i?c["default"].CURVE_RANDOM:i,r=t.duration,a=void 0===r?_:r,u=t.unitsPerSecond,s=void 0===u?y:u,d=t.rotationSpeedModifier,h=void 0===d?v:d,f=t.rotateToDirection,l=void 0===f?!0:f,g=t.simulateDepth,p=void 0===g?!1:g,x=t.spawnLocation,b=void 0===x?"outside":x,k=this._adaptersMap[o];if(!k)throw new Error("MotionEngine - No motion adapter found with supplied motion direction of ("+o+")");var w=Math.round(s*h),M=new m["default"](n,this._timer.time,a,s,w,o,l,p,b);return k.addAsset(M),M}},{key:"paused",get:function(){return this._timer.paused}}]),t}();n["default"]=p,e.exports=n["default"]},{"./motion-adapters/random-motion-adapter":4,"./motion-asset":5,"./motion-direction":6,"./rectangle":8,"./timer":10}],8:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.x,o=void 0===n?0:n,r=e.y,a=void 0===r?-0:r,u=e.width,s=void 0===u?0:u,c=e.height,d=void 0===c?0:c;i(this,t),this._x=o,this._y=a,this._width=s,this._height=d,this._halfWidth=s/2,this._halfHeight=d/2,this._eighthWidth=s/8,this._eighthHeight=d/8}return o(t,[{key:"x",set:function(t){this._x=t},get:function(){return this._x}},{key:"y",set:function(t){this._y=t},get:function(){return this._y}},{key:"width",set:function(t){this._width=t,this._halfWidth=t/2,this._eighthWidth=t/8},get:function(){return this._width}},{key:"height",set:function(t){this._height=t,this._halfHeight=t/2,this._eighthHeight=t/8},get:function(){return this._height}},{key:"halfWidth",get:function(){return this._halfWidth}},{key:"halfHeight",get:function(){return this._halfHeight}},{key:"eighthWidth",get:function(){return this._eighthWidth}},{key:"eighthHeight",get:function(){return this._eighthHeight}}]),t}();n["default"]=r,e.exports=n["default"]},{}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=Object.freeze({BORN:"born",ALIVE:"alive",DYING:"dying",DEAD:"dead"}),e.exports=n["default"]},{}],10:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t),this._requestAnimationId=null,this._paused=!0,this._currentTime=0,this._lastTime=0,this._timeInMilliseconds=0,this._timeUpdateHandlers=[]}return o(t,[{key:"_tick",value:function(){var t=this;this._requestAnimationId=null,this._currentTime=performance.now(),this._timeInMilliseconds+=this._currentTime-this._lastTime,this._lastTime=this._currentTime,this._timeUpdateHandlers.every(function(e){e(t._timeInMilliseconds)}),this._paused||(this._requestAnimationId=requestAnimationFrame(function(){return t._tick()}))}},{key:"addTimeUpdateListener",value:function(t){this._timeUpdateHandlers.push(t)}},{key:"play",value:function(){var t=this;this._paused=!1,this._lastTime=performance.now(),this._requestAnimationId=requestAnimationFrame(function(){return t._tick()})}},{key:"pause",value:function(){this._requestAnimationId&&(cancelAnimationFrame(this._requestAnimationId),this._requestAnimationId=null),this._paused=!0}},{key:"paused",get:function(){return this._paused}},{key:"time",get:function(){return this._timeInMilliseconds}}]),t}();n["default"]=r,e.exports=n["default"]},{}]},{},[1]);